!function(e,t){'object'==typeof exports&&'undefined'!=typeof module?module.exports=t():'function'==typeof define&&define.amd?define(t):(e='undefined'!=typeof globalThis?globalThis:e||self).index=t()}(this,(function(){'use strict';return class{constructor(){this.selectableItems=[],this.firstFocusableEl=null,this.lastFocusableEl=null,this.parentEl=null,this.queyrParams='a[href]:not([disabled]),button:not([disabled]),textarea:not([disabled]),input:not([disabled]),select:not([disabled]),[tabindex="0"],video[controls]',this.eventHandler=this.loop.bind(this)}init(e){this.parentEl=e,this.selectableItems=this.parentEl.querySelectorAll(this.queyrParams),this.firstFocusableEl=this.selectableItems[0],this.lastFocusableEl=this.selectableItems[this.selectableItems.length-1]?this.selectableItems[this.selectableItems.length-1]:this.firstFocusableEl,this.firstFocusableEl&&(this.focus(this.firstFocusableEl),window.addEventListener('keydown',this.eventHandler,!1))}loop(e){const t=document.activeElement;'Tab'!==e.key&&9!==e.keyCode||(this.parentEl.contains(t)||this.focus(this.firstFocusableEl,e),e.shiftKey?t===this.firstFocusableEl&&this.focus(this.lastFocusableEl,e):t===this.lastFocusableEl&&this.focus(this.firstFocusableEl,e))}focus(e,t=!1){e.focus(),t&&t.preventDefault()}remove(){window.removeEventListener('keydown',this.eventHandler)}}}));
